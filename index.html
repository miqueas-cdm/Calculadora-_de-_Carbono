<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Carbono - Cliente</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
    <script src="firebaseConfig.js"></script>
</head>
<body>

    <h1>Calculadora de Carbono</h1>
    <form id="carbonForm">
        <label for="name">Nome:</label>
        <input type="text" id="name" required>
        
        <label for="carDistance">Distância percorrida (km):</label>
        <input type="number" id="carDistance" required>
        
        <label for="electricity">Consumo de eletricidade (kWh):</label>
        <input type="number" id="electricity" required>
        
        <label for="fuelType">Tipo de combustível:</label>
        <select id="fuelType" required>
            <option value="2.3">Gasolina</option>
            <option value="2.6">Diesel</option>
            <option value="1.5">Etanol</option>
        </select>
        
        <button type="button" onclick="submitData()">Enviar Dados</button>
    </form>

    <script>
        async function submitData() {
            const name = document.getElementById('name').value;
            const carDistance = parseFloat(document.getElementById('carDistance').value);
            const electricity = parseFloat(document.getElementById('electricity').value);
            const fuelFactor = parseFloat(document.getElementById('fuelType').value);

            const fuelEmissions = (carDistance / 10) * fuelFactor;
            const electricityEmissionFactor = 0.085;
            const electricityEmissions = electricity * 12 * electricityEmissionFactor;
            const totalEmissions = fuelEmissions + electricityEmissions;

            await database.collection("clientData").add({
                name,
                carDistance,
                electricity,
                fuelType: fuelFactor,
                totalEmissions
            });

            alert("Dados enviados com sucesso!");
            document.getElementById("carbonForm").reset();
        }
    </script>
</body>
</html>
